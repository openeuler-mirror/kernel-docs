--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
【2024/5/10 Kernel SIG 双周例会】
轮值主持：仉鹏 【轮值主持顺序：曾昭荣->仉鹏->桑力鹏->张伽琳->廖涛】
下次轮值主持：曾昭荣
会议链接：https://meeting.huaweicloud.com:36443/#/j/987502806
会议纪要：https://etherpad.openeuler.org/p/Kernel-meetings

一、上期遗留问题跟踪

二、议题列表

议题一： 进展update（张伽琳 & 章昌仲&仉鹏）
近三周(2024.4.22 ~ 5.10)内进展同步:
        总体上OLK-5.10主干更新到tag 5.10.0-198.0.0
        openEuler-22.03-LTS-SP3分支，更新到tag 5.10.0-198.0.0
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP3/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP3/update/
        openEuler-22.03-LTS-SP2分支，更新到tag 5.10.0-153.53.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP2/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP2/update/
        openEuler-22.03-LTS-SP1分支，更新到tag 5.10.0-136.74.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP1/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP1/update/
        openEuler-22.03-LTS维护分支更新到tag 5.10.0-60.136.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS/update/
        以OLK-5.10为例:
        从 5.10.0-196.0.0 更新至 5.10.0-198.0.0, 回合补丁数387个
        git log 5.10.0-196.0.0..5.10.0-198.0.0 --oneline | wc -l
        387

## 5.10.0-196.0.0..5.10.0-198.0.0

### Backport patches from upstream LTS (5.10.204 - 5.10.205):
        https://gitee.com/openeuler/kernel/pulls/6631 Backport 5.10.205 LTS patches from upstream
        https://gitee.com/openeuler/kernel/pulls/6539 Backport 5.10.204 LTS patches from upstream

### Fix CVE (73):
        CVE-2024-26885: https://gitee.com/openeuler/kernel/pulls/6904  bpf: Fix DEVMAP_HASH overflow check on 32-bit arches
        CVE-2024-26884: https://gitee.com/openeuler/kernel/pulls/6918  bpf: Fix hashtab overflow check on 32-bit arches
        CVE-2022-48655: https://gitee.com/openeuler/kernel/pulls/6928  firmware: arm_scmi: Harden accesses to the reset domains
        CVE-2024-26883: https://gitee.com/openeuler/kernel/pulls/6924  bpf: Fix stackmap overflow check on 32-bit arches
        CVE-2024-27075: https://gitee.com/openeuler/kernel/pulls/6861  media: dvb-frontends: avoid stack overflow warnings with clang
        CVE-2023-52650: https://gitee.com/openeuler/kernel/pulls/6840  CVE-2023-52650
        CVE-2024-26999: https://gitee.com/openeuler/kernel/pulls/6851  serial/pmac_zilog: Remove flawed mitigation for rx irq flood
        CVE-2024-26973: https://gitee.com/openeuler/kernel/pulls/6826  fat: fix uninitialized field in nostale filehandles
        CVE-2024-26993: https://gitee.com/openeuler/kernel/pulls/6838  fs: sysfs: Fix reference leak in sysfs_break_active_protection()
        CVE-2024-26923: https://gitee.com/openeuler/kernel/pulls/6808  CVE-2024-26923
        CVE-2022-48674: https://gitee.com/openeuler/kernel/pulls/6849  erofs: fix pcluster use-after-free on UP platforms
        CVE-2024-26846: https://gitee.com/openeuler/kernel/pulls/6473  nvme-fc: do not wait in vain when unloading module
        CVE-2024-26845: https://gitee.com/openeuler/kernel/pulls/6797  scsi: target: core: Add TMF to tmr_list handling
        CVE-2024-26829: https://gitee.com/openeuler/kernel/pulls/6798  media: ir_toy: fix a memleak in irtoy_tx
        CVE-2024-26814: https://gitee.com/openeuler/kernel/pulls/6756  vfio/fsl-mc: Block calling interrupt handler without trigger
        CVE-2024-26926: https://gitee.com/openeuler/kernel/pulls/6755  binder: check offset alignment in binder_get_object()
        CVE-2024-26870: https://gitee.com/openeuler/kernel/pulls/6669  NFSv4.2: fix nfs4_listxattr kernel BUG at mm/usercopy.c:102
        CVE-2024-26828: https://gitee.com/openeuler/kernel/pulls/6680  cifs: fix underflow in parse_server_interfaces()
        CVE-2024-26922: https://gitee.com/openeuler/kernel/pulls/6719  drm/amdgpu: validate the parameters of bo mapping operations more clearly
        CVE-2024-26852: https://gitee.com/openeuler/kernel/pulls/6654  net/ipv6: avoid possible UAF in ip6_route_mpath_notify()
        CVE-2024-26921: https://gitee.com/openeuler/kernel/pulls/6683 v2  CVE-2024-26921
        CVE-2024-26840: https://gitee.com/openeuler/kernel/pulls/6501  cachefiles: fix memory leak in cachefiles_add_cache()
        CVE-2024-26896: https://gitee.com/openeuler/kernel/pulls/6567  CVE-2024-26896
        CVE-2024-26874: https://gitee.com/openeuler/kernel/pulls/6580  drm/mediatek: Fix a null pointer crash in mtk_drm_crtc_finish_page_flip
        CVE-2024-26863: https://gitee.com/openeuler/kernel/pulls/6640  hsr: Fix uninit-value access in hsr_get_node()
        CVE-2024-26862: https://gitee.com/openeuler/kernel/pulls/6620  packet: annotate data-races around ignore_outgoing
        CVE-2024-26859: https://gitee.com/openeuler/kernel/pulls/6618  net/bnx2x: Prevent access to a freed page in page_pool
        CVE-2024-26882: https://gitee.com/openeuler/kernel/pulls/6592  net: ip_tunnel: make sure to pull inner header in ip_tunnel_rcv()
        CVE-2024-24860: https://gitee.com/openeuler/kernel/pulls/6619  Bluetooth: Fix atomicity violation in {min,max}_key_size_set
        CVE-2024-26817: https://gitee.com/openeuler/kernel/pulls/6623  amdkfd: use calloc instead of kzalloc to avoid integer overflow
        CVE-2024-26900: https://gitee.com/openeuler/kernel/pulls/6561  md: fix kmemleak of rdev->serial
        CVE-2024-26843: https://gitee.com/openeuler/kernel/pulls/6485  CVE-2024-26843
        CVE-2024-25739: https://gitee.com/openeuler/kernel/pulls/6247  ubi: Check for too small LEB size in VTBL code
        CVE-2024-26907: https://gitee.com/openeuler/kernel/pulls/6546 v2  CVE-2024-26907
        CVE-2024-26869: https://gitee.com/openeuler/kernel/pulls/6597 v3  Fix CVE-2024-26869
        CVE-2024-26904: https://gitee.com/openeuler/kernel/pulls/6401  btrfs: fix data race at btrfs_use_block_rsv() when accessing block reserve
        CVE-2024-26839: https://gitee.com/openeuler/kernel/pulls/6568  IB/hfi1: Fix a memleak in init_credit_return
        CVE-2023-52642: https://gitee.com/openeuler/kernel/pulls/6579  media: rc: bpf attach/detach requires write permission
        CVE-2024-26855: https://gitee.com/openeuler/kernel/pulls/6543  net: ice: Fix potential NULL pointer dereference in ice_bridge_setlink()
        CVE-2024-26893: https://gitee.com/openeuler/kernel/pulls/6520  firmware: arm_scmi: Fix double free in SMC transport cleanup path
        CVE-2024-26894: https://gitee.com/openeuler/kernel/pulls/6584  ACPI: processor_idle: Fix memory leak in acpi_processor_power_exit()
        CVE-2024-26825: https://gitee.com/openeuler/kernel/pulls/6566  nfc: nci: free rx_data_reassembly skb on NCI device cleanup
        CVE-2024-26880: https://gitee.com/openeuler/kernel/pulls/6437  dm: call the resume method on internal suspend
        CVE-2021-47193: https://gitee.com/openeuler/kernel/pulls/6442  scsi: pm80xx: Fix memory leak during rmmod
        CVE-2024-26901: https://gitee.com/openeuler/kernel/pulls/6474  do_sys_name_to_handle(): use kzalloc() to fix kernel-infoleak
        CVE-2024-26875: https://gitee.com/openeuler/kernel/pulls/6417  media: pvrusb2: fix uaf in pvr2_context_set_notify
        CVE-2024-26872: https://gitee.com/openeuler/kernel/pulls/6493  RDMA/srpt: Do not register event handler until srpt device is fully setup
        CVE-2024-26813: https://gitee.com/openeuler/kernel/pulls/6458  CVE-2024-26813
        CVE-2024-26615: https://gitee.com/openeuler/kernel/pulls/5273  net/smc: fix illegal rmb_desc access in SMC-D connection dump
        CVE-2024-26734: https://gitee.com/openeuler/kernel/pulls/6486  devlink: fix possible use-after-free and memory leaks in devlink_init()
        CVE-2023-52498: https://gitee.com/openeuler/kernel/pulls/6515  fix CVE-2023-52498
        CVE-2023-52491: https://gitee.com/openeuler/kernel/pulls/5468  media: mtk-jpeg: Fix use after free bug due to error path handling in mtk_jpeg_dec_device_run
        CVE-2024-26908: https://gitee.com/openeuler/kernel/pulls/6314  fixup CVE-2024-26908
        CVE-2024-26917: https://gitee.com/openeuler/kernel/pulls/6316  scsi: fnic: Move fnic_fnic_flush_tx() to a work queue
        CVE-2024-26895: https://gitee.com/openeuler/kernel/pulls/6399  wifi: wilc1000: prevent use-after-free on vif when cleaning up all interfaces
        CVE-2023-7042:  https://gitee.com/openeuler/kernel/pulls/6407  wifi: ath10k: fix NULL pointer dereference in ath10k_wmi_tlv_op_pull_mgmt_tx_compl_ev()
        CVE-2021-47182: https://gitee.com/openeuler/kernel/pulls/6455  CVE-2021-47182
        CVE-2024-26920: https://gitee.com/openeuler/kernel/pulls/6423  tracing/trigger: Fix to return error if failed to alloc snapshot
        CVE-2021-47212: https://gitee.com/openeuler/kernel/pulls/6281 v2  net/mlx5: Update error handler for UCTX and UMEM
        CVE-2023-47233: https://gitee.com/openeuler/kernel/pulls/6267  wifi: brcmfmac: Fix use-after-free bug in brcmf_cfg80211_detach
        CVE-2024-26801: https://gitee.com/openeuler/kernel/pulls/6279  Bluetooth: Avoid potential use-after-free in hci_error_reset
        CVE-2024-26733: https://gitee.com/openeuler/kernel/pulls/6259  arp: Prevent overflow in arp_req_get().
        CVE-2024-24861: https://gitee.com/openeuler/kernel/pulls/6312  fix CVE-2024-24861 for 5.10
        CVE-2023-6270:  https://gitee.com/openeuler/kernel/pulls/6291  aoe: fix the potential use-after-free problem in aoecmd_cfg_pkts
        CVE-2021-47211: https://gitee.com/openeuler/kernel/pulls/6202  ALSA: usb-audio: fix null pointer dereference on pointer cs_desc
        CVE-2021-47199: https://gitee.com/openeuler/kernel/pulls/6284  net/mlx5e: CT, Fix multiple allocations and memleak of mod acts
        CVE-2024-26764: https://gitee.com/openeuler/kernel/pulls/6076  Fix CVE-2024-26764
        CVE-2023-52441: https://gitee.com/openeuler/kernel/pulls/5965  Fix CVE-2023-52441 and integrate the pre-patch
        CVE-2024-26808: https://gitee.com/openeuler/kernel/pulls/6086  netfilter: nft_chain_filter: handle NETDEV_UNREGISTER for inet/ingress basechain
        CVE-2024-26805: https://gitee.com/openeuler/kernel/pulls/6085  netlink: Fix kernel-infoleak-after-free in __skb_datagram_iter
        CVE-2024-26739: https://gitee.com/openeuler/kernel/pulls/6087  net/sched: act_mirred: don't override retval if we already lost the skb
        CVE-2023-52637: https://gitee.com/openeuler/kernel/pulls/6082  can: j1939: Fix UAF in j1939_sk_match_filter during setsockopt(SO_J1939_FILTER)
        CVE-2024-26804: https://gitee.com/openeuler/kernel/pulls/6058  net: ip_tunnel: prevent perpetual headroom growth

### Fearures:
#### arm virtcca
        https://gitee.com/openeuler/kernel/pulls/6676  cvm feature patches

#### hugetlb MADV_DONTNEED
        https://gitee.com/openeuler/kernel/pulls/6588  Add hugetlb MADV_DONTNEED support

### Processors Support:
#### Kunpeng:
        https://gitee.com/openeuler/kernel/pulls/5905 [OLK 5.10] RDMA/hns: Fix incorrect iteration number of DCA umem sg entries and error return in hns_roce_v2_modify_srq()
        https://gitee.com/openeuler/kernel/pulls/6660 udma: fix bugs of record_db
        https://gitee.com/openeuler/kernel/pulls/6635 backport RDMA/hns: Fix DCA's dependence on ib_uverbs from OLK-6.6
        https://gitee.com/openeuler/kernel/pulls/6257 HNS3: Do some optimizing job and support fast path
        https://gitee.com/openeuler/kernel/pulls/6555 udma: fix bugs in non-share jfr and remove rm mode
        https://gitee.com/openeuler/kernel/pulls/6295 hns3 udma: adjustment of the maximum number of Jettys
        https://gitee.com/openeuler/kernel/pulls/6263 udma: fix a bug of jfr record_db
        https://gitee.com/openeuler/kernel/pulls/6262 scsi: hisi_sas: Remove hisi_hba->timer for v3 hw

### Devices Support:
#### Huawei SP600 Network Card RDMA Driver
        https://gitee.com/openeuler/kernel/pulls/6684  infiniband/hw/hiroce3: Add Huawei Intelligent Network Card RDMA Driver

### Bugfix：
        https://gitee.com/openeuler/kernel/pulls/6846  perf/x86/amd: Fix crash due to race between amd_pmu_enable_all, perf NMI and throttling
        https://gitee.com/openeuler/kernel/pulls/6740  V2 cpuset: fix race between rebuild scheduler domains and hotplug work
        https://gitee.com/openeuler/kernel/pulls/6802  x86,static_call: Fix __static_call_return0 for i386
        https://gitee.com/openeuler/kernel/pulls/6835  kprobes: Fix check for probe enabled in kill_kprobe()
        https://gitee.com/openeuler/kernel/pulls/6799  rtmutex: Add acquire semantics for rtmutex lock acquisition slow path
        https://gitee.com/openeuler/kernel/pulls/6704  x86/thermal: Fix LVT thermal setup for SMI delivery mode
        https://gitee.com/openeuler/kernel/pulls/6702  static_call: Don't make __static_call_return0 static
        https://gitee.com/openeuler/kernel/pulls/6700  PCI/IOV: Enlarge virtfn sysfs name buffer
        https://gitee.com/openeuler/kernel/pulls/6729  PCI/IOV: Improve performance of creating VFs concurrently
        https://gitee.com/openeuler/kernel/pulls/6739 v2  Apply patches of ses from stable
        https://gitee.com/openeuler/kernel/pulls/6677 v3  olk-5.10: bugfix for mm
        https://gitee.com/openeuler/kernel/pulls/6428  net/sched: flower: Fix unable to handle page fault bug in fl_init
        https://gitee.com/openeuler/kernel/pulls/6308 v3  ima: Avoid blocking in RCU read-side critical section
        https://gitee.com/openeuler/kernel/pulls/6294 [sync] PR-6177:  arm64/mpam: Not allowed setting 0 to cache portion bit mask
        https://gitee.com/openeuler/kernel/pulls/6293 [sync] PR-6176:  arm64/mpam: return EOPNOTSUPP when changing rmid of monitor group or resource group with monitor
        https://gitee.com/openeuler/kernel/pulls/6199  writeback fix softlockup


近三周(2024.4.22 ~ 5.10)内进展同步:
总体上openEuler-1.0-LTS更新到tag 4.19.90-2405.1.0
openEuler-20.03-LTS-SP1分支
release ISO获取链接: https://repo.openeuler.org/openEuler-20.03-LTS-SP1/ISO/
        对应update rpm包下载地址:
        https://repo.openeuler.org/openEuler-20.03-LTS-SP1/update/
openEuler-1.0-LTS从 4.19.90-2404.2.0 更新至 4.19.90-2405.1.0, 回合补丁数85个
git log --no-merges 4.19.90-2404.2.0..4.19.90-2405.1.0 --oneline | wc -l
85

修复CVE 56个
CVE-2024-26883  https://gitee.com/openeuler/kernel/pulls/6858  CVE-2024-26883
CVE-2024-26993  https://gitee.com/openeuler/kernel/pulls/6836  fs: sysfs: Fix reference leak in sysfs_break_active_protection()
CVE-2022-48674  https://gitee.com/openeuler/kernel/pulls/6845  erofs: fix pcluster use-after-free on UP platforms
CVE-2024-26973  https://gitee.com/openeuler/kernel/pulls/6827  fat: fix uninitialized field in nostale filehandles
CVE-2024-26923  https://gitee.com/openeuler/kernel/pulls/6807  CVE-2024-26923
CVE-2022-48702  https://gitee.com/openeuler/kernel/pulls/6847  ALSA: emu10k1: Fix out of bounds access in snd_emu10k1_pcm_channel_alloc()
CVE-2022-48664  https://gitee.com/openeuler/kernel/pulls/6758  CVE-2022-48664
CVE-2024-26845  https://gitee.com/openeuler/kernel/pulls/6803  scsi: target: core: Add TMF to tmr_list handling
CVE-2024-26878  https://gitee.com/openeuler/kernel/pulls/6705  quota: fix CVE-2024-26878
CVE-2024-26828  https://gitee.com/openeuler/kernel/pulls/6674  cifs: fix underflow in parse_server_interfaces()
CVE-2024-26926  https://gitee.com/openeuler/kernel/pulls/6754  binder: check offset alignment in binder_get_object()
CVE-2024-26922  https://gitee.com/openeuler/kernel/pulls/6716  CVE-2024-26922
CVE-2024-26857  https://gitee.com/openeuler/kernel/pulls/6652  geneve: make sure to pull inner header in geneve_rx()
CVE-2024-26876  https://gitee.com/openeuler/kernel/pulls/6664  drm/bridge: adv7511: fix crash on irq during probe
CVE-2024-26852  https://gitee.com/openeuler/kernel/pulls/6653  net/ipv6: avoid possible UAF in ip6_route_mpath_notify()
CVE-2024-26840  https://gitee.com/openeuler/kernel/pulls/6510  cachefiles: fix memory leak in cachefiles_add_cache()
CVE-2024-26874  https://gitee.com/openeuler/kernel/pulls/6578  drm/mediatek: Fix a null pointer crash in mtk_drm_crtc_finish_page_flip
CVE-2024-26863  https://gitee.com/openeuler/kernel/pulls/6641  CVE-2024-26863
CVE-2021-47217  https://gitee.com/openeuler/kernel/pulls/6642  v3  x86/hyperv: Fix NULL deref in set_hv_tscchange_cb() if Hyper-V setup fails
CVE-2024-26817  https://gitee.com/openeuler/kernel/pulls/6621  amdkfd: use calloc instead of kzalloc to avoid integer overflow
CVE-2024-26859  https://gitee.com/openeuler/kernel/pulls/6617  net/bnx2x: Prevent access to a freed page in page_pool
CVE-2024-26882  https://gitee.com/openeuler/kernel/pulls/6611  net: ip_tunnel: make sure to pull inner header in ip_tunnel_rcv()
CVE-2024-26904  https://gitee.com/openeuler/kernel/pulls/6397  btrfs: fix data race at btrfs_use_block_rsv() when accessing block reserve
CVE-2024-26915  https://gitee.com/openeuler/kernel/pulls/6616  drm/amdgpu: Reset IH OVERFLOW_CLEAR bit
CVE-2024-24860  https://gitee.com/openeuler/kernel/pulls/6525  v2  CVE-2024-24860 bugfix
CVE-2024-26901  https://gitee.com/openeuler/kernel/pulls/6478  do_sys_name_to_handle(): use kzalloc() to fix kernel-infoleak
CVE-2024-26894  https://gitee.com/openeuler/kernel/pulls/6582  ACPI: processor_idle: Fix memory leak in acpi_processor_power_exit()
CVE-2023-52642  https://gitee.com/openeuler/kernel/pulls/6577  media: rc: bpf attach/detach requires write permission
CVE-2024-26839  https://gitee.com/openeuler/kernel/pulls/6560  IB/hfi1: Fix a memleak in init_credit_return
CVE-2024-26880  https://gitee.com/openeuler/kernel/pulls/6436  dm: call the resume method on internal suspend
CVE-2024-26825  https://gitee.com/openeuler/kernel/pulls/6562  nfc: nci: free rx_data_reassembly skb on NCI device cleanup
CVE-2024-26875  https://gitee.com/openeuler/kernel/pulls/6481  CVE-2024-26875
CVE-2024-26872  https://gitee.com/openeuler/kernel/pulls/6495  RDMA/srpt: Do not register event handler until srpt device is fully setup
CVE-2024-26813  https://gitee.com/openeuler/kernel/pulls/6457  CVE-2024-26813
CVE-2021-47183  https://gitee.com/openeuler/kernel/pulls/6517  scsi: lpfc: Fix link down processing to address NULL pointer dereference
CVE-2024-26851  https://gitee.com/openeuler/kernel/pulls/6521  netfilter: nf_conntrack_h323: Add protection for bmp length out of range
CVE-2021-47182  https://gitee.com/openeuler/kernel/pulls/6454  CVE-2021-47182
CVE-2024-26908  https://gitee.com/openeuler/kernel/pulls/6313  fixup CVE-2024-26908
CVE-2023-52638  https://gitee.com/openeuler/kernel/pulls/6447  can: j1939: prevent deadlock by changing j1939_socks_lock to rwlock
CVE-2023-7042  https://gitee.com/openeuler/kernel/pulls/6405  wifi: ath10k: fix NULL pointer dereference in ath10k_wmi_tlv_op_pull_mgmt_tx_compl_ev()
CVE-2024-26884  https://gitee.com/openeuler/kernel/pulls/6466  bpf: Fix hashtab overflow check on 32-bit arches
CVE-2024-26920  https://gitee.com/openeuler/kernel/pulls/6396  tracing/trigger: Fix to return error if failed to alloc snapshot
CVE-2024-26801  https://gitee.com/openeuler/kernel/pulls/6278  Bluetooth: Avoid potential use-after-free in hci_error_reset
CVE-2021-47211  https://gitee.com/openeuler/kernel/pulls/6203  ALSA: usb-audio: fix null pointer dereference on pointer cs_desc
CVE-2023-6270  https://gitee.com/openeuler/kernel/pulls/6292  aoe: fix the potential use-after-free problem in aoecmd_cfg_pkts
CVE-2024-26663  https://gitee.com/openeuler/kernel/pulls/6301  v2  tipc: Check the bearer type before calling tipc_udp_nl_bearer_add()
CVE-2021-47210  https://gitee.com/openeuler/kernel/pulls/6266  usb: typec: tipd: Remove WARN_ON in tps6598x_block_read
CVE-2024-24861  https://gitee.com/openeuler/kernel/pulls/6290  CVE-2024-24861
CVE-2021-47203  https://gitee.com/openeuler/kernel/pulls/6269  scsi: lpfc: Fix list_add() corruption in lpfc_drain_txq()
CVE-2023-47233  https://gitee.com/openeuler/kernel/pulls/6276  wifi: brcmfmac: Fix use-after-free bug in brcmf_cfg80211_detach
CVE-2024-26793  https://gitee.com/openeuler/kernel/pulls/6277  gtp: fix use-after-free and null-ptr-deref in gtp_newlink()
CVE-2024-26733  https://gitee.com/openeuler/kernel/pulls/6275  arp: Prevent overflow in arp_req_get().
CVE-2021-47216  https://gitee.com/openeuler/kernel/pulls/6280  scsi: advansys: Fix kernel pointer leak
CVE-2024-26764  https://gitee.com/openeuler/kernel/pulls/6075  Fix CVE-2024-26764
CVE-2024-26805  https://gitee.com/openeuler/kernel/pulls/6084  netlink: Fix kernel-infoleak-after-free in __skb_datagram_iter
CVE-2024-25739  https://gitee.com/openeuler/kernel/pulls/6246  ubi: Check for too small LEB size in VTBL code


社区问题修复以及上游社区bugfix补丁回合：
https://gitee.com/openeuler/kernel/pulls/6795  rtmutex: Add acquire semantics for rtmutex lock acquisition slow path
https://gitee.com/openeuler/kernel/pulls/6777  tun: Fix xdp_rxq_info's queue_index when detaching
https://gitee.com/openeuler/kernel/pulls/6494  v2  oom_kill.c: futex: delay the OOM reaper to allow time for proper futex cleanup
https://gitee.com/openeuler/kernel/pulls/6745  PCI/IOV: Improve performance of creating VFs concurrently
https://gitee.com/openeuler/kernel/pulls/6746  v3  openEuler-1.0-LTS: bugfix for mm
https://gitee.com/openeuler/kernel/pulls/6662  sched/rt: Disallow writing invalid values to sched_rt_period_us
https://gitee.com/openeuler/kernel/pulls/6661  sched/rt: sysctl_sched_rr_timeslice show default timeslice after reset
https://gitee.com/openeuler/kernel/pulls/6659  sched/rt: Fix sysctl_sched_rr_timeslice intial value
https://gitee.com/openeuler/kernel/pulls/6646  fix race between rebuild scheduler domains and hotplug work
https://gitee.com/openeuler/kernel/pulls/6420  tty: fix read of tty->pgrp outside of ctrl_lock
https://gitee.com/openeuler/kernel/pulls/6309  v5  ima: Avoid blocking in RCU read-side critical section
https://gitee.com/openeuler/kernel/pulls/6177  arm64/mpam: Not allowed setting 0 to cache portion bit mask
https://gitee.com/openeuler/kernel/pulls/6176  arm64/mpam: return EOPNOTSUPP when changing rmid of monitor group or resource group with monitor


OLK-6.6进展同步：

新分支已合入PR 42个，commit 2044个
近两周(4.19-5.10)新合入PR：

Backport patches from upstream LTS (6.6.23-6.6.30):
        https://gitee.com/openeuler/kernel/pulls/6859

性能提升专项：
        v3 m: convert mm's rss stats to use atomic mode https://gitee.com/openeuler/kernel/pulls/6439
        Backport page fault and fork optimization https://gitee.com/openeuler/kernel/pulls/6626
        sched: disable sched_autogroup by default https://gitee.com/openeuler/kernel/pulls/6658
        Fixes and cleanups to fs-writeback https://gitee.com/openeuler/kernel/pulls/7015
        v2 arm64: mmap: disable align larger anonymous mappings on THP boundaries https://gitee.com/openeuler/kernel/pulls/6905
        maple_tree: avoid checking other gaps after getting the largest gap https://gitee.com/openeuler/kernel/pulls/6877
        Introduce CONFIG_ARCH_CUSTOM_NUMA_DISTANCE https://gitee.com/openeuler/kernel/pulls/6824

处理器及板卡支持专项：
        华为网卡：
        RDMA/hns: Some bugfixes and cleanups https://gitee.com/openeuler/kernel/pulls/6467
        net: hns3: backport some maillist patches https://gitee.com/openeuler/kernel/pulls/6759
        net: hns3: add support for Hisilicon ptp sync device https://gitee.com/openeuler/kernel/pulls/6651
        infiniband/hw/hiroce3: Add Huawei Intelligent Network Card RDMA Driver https://gitee.com/openeuler/kernel/pulls/6647
        hisi：
        irqchip: gic-v3: Collection table support muti pages https://gitee.com/openeuler/kernel/pulls/6409
        hisi-acc-vfio-pci:add DFX for acc migration driver https://gitee.com/openeuler/kernel/pulls/6624
        i2c: hisi: Add I2C controller reset and initialization proccess in bus recovery action https://gitee.com/openeuler/kernel/pulls/6782
        spi: hisi-kunpeng: Delete the dump interface of data registers in debugfs https://gitee.com/openeuler/kernel/pulls/6760
        龙芯：
        LoongArch: fix KASLR can not be disabled by nokaslr when boot from old BPI https://gitee.com/openeuler/kernel/pulls/6581
        LoongArch: 修复ioremap_page_range报错 https://gitee.com/openeuler/kernel/pulls/6483

特性：
        ext4: use iomap for regular file's buffered IO path and enable large foilo https://gitee.com/openeuler/kernel/pulls/6632
        A Solution to Re-enable hugetlb vmemmap optimize on ARM64 https://gitee.com/openeuler/kernel/pulls/6595
        v6 Introduce BPF_READAHEAD option for optimizing read performance https://gitee.com/openeuler/kernel/pulls/6590

bugfix（11）：
        ipvlan: Fix warning while IPVLAN_L2E disabled https://gitee.com/openeuler/kernel/pulls/6385
        mm/migrate: correct nr_failed in migrate_pages_sync() https://gitee.com/openeuler/kernel/pulls/6424
        iommu/arm-smmu-v3: fix using uninitialized or unchecked symbol https://gitee.com/openeuler/kernel/pulls/6403
        bpf: Add missing BPF_LINK_TYPE invocations https://gitee.com/openeuler/kernel/pulls/6402
        v2 perf data convert: Fix segfault when converting to json when cpu_desc isn't set https://gitee.com/openeuler/kernel/pulls/6625
        v2 SUNRPC: Fix a slow server-side memory leak with RPC-over-TCP https://gitee.com/openeuler/kernel/pulls/6735
        watchdog: Fix call trace when failed to initialize sdei https://gitee.com/openeuler/kernel/pulls/6731
        ipvlan: enable CONFIG_IPVLAN_L2E option in openeuler config https://gitee.com/openeuler/kernel/pulls/6692
        v3 bugfix patches from OLK-5.10 https://gitee.com/openeuler/kernel/pulls/7011
        fix general protection fault in update_cpumask https://gitee.com/openeuler/kernel/pulls/6930
        block: fix deadlock between bd_link_disk_holder and partition scan https://gitee.com/openeuler/kernel/pulls/6844

CVE（10）:
        CVE-2024-26868 https://gitee.com/openeuler/kernel/pulls/6390
        CVE-2024-26869 https://gitee.com/openeuler/kernel/pulls/6444
        CVE-2024-26904 https://gitee.com/openeuler/kernel/pulls/6400
        CVE-2024-26871 https://gitee.com/openeuler/kernel/pulls/6443
        CVE-2024-26875 https://gitee.com/openeuler/kernel/pulls/6418
        CVE-2024-26894 https://gitee.com/openeuler/kernel/pulls/6585
        CVE-2024-26901 https://gitee.com/openeuler/kernel/pulls/6479
        CVE-2024-26917 https://gitee.com/openeuler/kernel/pulls/6468
        CVE-2024-26878 https://gitee.com/openeuler/kernel/pulls/6730
        CVE-2024-26905 https://gitee.com/openeuler/kernel/pulls/6681
        

KABI专项： closed
继承特性回合事项： closed

        最新tag 6.6.0-25.0.0
        openEuler-24.03-LTS ISO镜像下载链接：http://121.36.84.172/dailybuild/EBS-openEuler-24.03-LTS/


议题二：仉鹏申请成为kernel sig committer
申请packing相关committer，负责6.6版本的集成、打包、发布

主要贡献：
release相关PR：
release 6.6.0-25.0.0
https://gitee.com/src-openeuler/kernel/pulls/1564
release 6.6.0-24.0.0
https://gitee.com/src-openeuler/kernel/pulls/1563
release 6.6.0-23.0.0
https://gitee.com/src-openeuler/kernel/pulls/1555
release 6.6.0-21.0.0
https://gitee.com/src-openeuler/kernel/pulls/1544
release 6.6.0-19.0.0
https://gitee.com/src-openeuler/kernel/pulls/1526

LTS补丁Backport PR：
Backport 6.6.8~6.6.30 LTS 补丁
https://gitee.com/openeuler/kernel/pulls/6859
https://gitee.com/openeuler/kernel/pulls/5369
https://gitee.com/openeuler/kernel/pulls/5318

相关review PR数量:
当前共有100+
https://datastat.openeuler.org/zh/user/anred

性能优化PR：
Backport page fault optimization
https://gitee.com/openeuler/kernel/issues/I9JAY9
mm: convert mm's rss stats to use atomic mode
https://gitee.com/openeuler/kernel/issues/I9IA1I
Backport mm: batch mm counter updating in filemap_map_pages()
https://gitee.com/openeuler/kernel/issues/I9GBVL
maple_tree: iterator state changes
https://gitee.com/openeuler/kernel/issues/I9EHBO
arch/mm/fault: accelerate pagefault when badaccess
https://gitee.com/openeuler/kernel/issues/I9E07B
Backport slub优化
https://gitee.com/openeuler/kernel/issues/I9CSFJ
userfaultfd: early return in dup_userfaultfd()
https://gitee.com/openeuler/kernel/issues/I9CKXN
Backport Introduce __mt_dup() to improve the performance of fork()
https://gitee.com/openeuler/kernel/issues/I9AYM3
缓解vmap/vmalloc的锁争用，提升vmalloc多核性能
https://gitee.com/openeuler/kernel/issues/I9CHG1

特性PR：
Backport numa balancing相关的folio conversation
https://gitee.com/openeuler/kernel/pulls/3018
Backport mlock支持large folio
https://gitee.com/openeuler/kernel/pulls/4199
支持userswap特性
https://gitee.com/openeuler/kernel/pulls/3352
Backport memcg维测特性：
https://gitee.com/openeuler/kernel/pulls/4154
日常CVE与bugfix

评审意见：
同意仉鹏成为 packing 领域的 Committer，负责6.6版本的集成、打包、发布等工作。
并接替郑增凯成为 OLK-6.6 分支的 Branch Keeper.

议题三：buffer io限速关系自动绑定PR review：https://gitee.com/openeuler/kernel/pulls/7111

议题四：议题征集中，可直接在此处填写申报
三、本期遗留问题

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
【2024/4/19 Kernel SIG 双周例会】
轮值主持：张伽琳 【轮值主持顺序：曾昭荣->仉鹏->桑力鹏->张伽琳->廖涛】
下次轮值主持：廖涛
会议链接：https://meeting.huaweicloud.com:36443/#/j/985175986
会议纪要：https://etherpad.openeuler.org/p/Kernel-meetings

一、上期遗留问题跟踪

二、议题列表

议题一： 进展update（张伽琳 & 章昌仲&仉鹏）
近两周(2024.4.3 ~ 4.19)内进展同步:
        总体上OLK-5.10主干更新到tag 5.10.0-196.0.0
        openEuler-22.03-LTS-SP3分支，更新到tag 5.10.0-196.0.0
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP3/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP3/update/
        openEuler-22.03-LTS-SP2分支，更新到tag 5.10.0-153.51.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP2/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP2/update/
        openEuler-22.03-LTS-SP1分支，更新到tag 5.10.0-136.72.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP1/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP1/update/
        openEuler-22.03-LTS维护分支更新到tag 5.10.0-60.134.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS/update/
        以OLK-5.10为例:
        从 5.10.0-194.0.0 更新至 5.10.0-196.0.0, 回合补丁数720个
        git log 5.10.0-194.0.0..5.10.0-196.0.0 --oneline | wc -l
        720

        同步linux 5.10.y社区LTS补丁集3个: 5.10.201 - 5.10.203
        https://gitee.com/openeuler/kernel/pulls/6161 Backport 5.10.203 LTS patches from upstream
        https://gitee.com/openeuler/kernel/pulls/5736 Backport 5.10.202 LTS patches from upstream
        https://gitee.com/openeuler/kernel/pulls/5711 Backport 5.10.201 LTS patches from upstream

        修复CVE 77个
        CVE-2024-26787
        https://gitee.com/openeuler/kernel/pulls/6074  Fix CVE-2024-26787
        CVE-2021-47070
        https://gitee.com/openeuler/kernel/pulls/6193  uio_hv_generic: Fix another memory leak in error handling paths
        CVE-2023-52561
        https://gitee.com/openeuler/kernel/pulls/6192  arm64: dts: qcom: sdm845-db845c: Mark cont splash memory region as reserved
        CVE-2024-26812
        https://gitee.com/openeuler/kernel/pulls/6178  CVE-2024-26812
        CVE-2023-52572
        https://gitee.com/openeuler/kernel/pulls/6112  cifs: Fix UAF in cifs_demultiplex_thread()
        CVE-2024-26687
        https://gitee.com/openeuler/kernel/pulls/6124  xen/events: close evtchn after mapping cleanup
        CVE-2024-26810
        https://gitee.com/openeuler/kernel/pulls/6137  vfio/pci: Lock external INTx masking ops
        CVE-2024-26754
        https://gitee.com/openeuler/kernel/pulls/6033  gtp: fix use-after-free and null-ptr-deref in gtp_genl_dump_pdp()
        CVE-2023-52639
        https://gitee.com/openeuler/kernel/pulls/6003  KVM: s390: vsie: fix race during shadow creation
        CVE-2024-26795
        https://gitee.com/openeuler/kernel/pulls/6103  riscv: Sparse-Memory/vmemmap out-of-bounds fix
        CVE-2023-52595
        https://gitee.com/openeuler/kernel/pulls/6116  wifi: rt2x00: restart beacon queue when hardware reset
        CVE-2024-26698
        https://gitee.com/openeuler/kernel/pulls/6047  hv_netvsc: Fix race condition between netvsc_probe and netvsc_remove
        CVE-2024-27437
        https://gitee.com/openeuler/kernel/pulls/6101  vfio/pci: Disable auto-enable of exclusive INTx IRQ
        CVE-2023-52587
        https://gitee.com/openeuler/kernel/pulls/5717 v2  fix CVE-2023-52587
        CVE-2024-26779
        https://gitee.com/openeuler/kernel/pulls/6050  wifi: mac80211: fix race condition on enabling fast-xmit
        CVE-2023-52560
        https://gitee.com/openeuler/kernel/pulls/4923  mm/damon/vaddr-test: fix memory leak in damon_do_test_apply_three_regions()
        CVE-2024-26726
        https://gitee.com/openeuler/kernel/pulls/6016  btrfs: don't drop extent_map for free space inode on write error
        CVE-2024-26685
        https://gitee.com/openeuler/kernel/pulls/6031  nilfs2: fix potential bug in end_buffer_async_write
        CVE-2024-26772
        https://gitee.com/openeuler/kernel/pulls/5847  ext4: avoid allocating blocks from corrupted group in ext4_mb_find_by_goal()
        CVE-2023-52631
        https://gitee.com/openeuler/kernel/pulls/5803  fs/ntfs3: Fix an NULL dereference bug
        CVE-2024-26791
        https://gitee.com/openeuler/kernel/pulls/5977  btrfs: dev-replace: properly validate device names
        CVE-2024-26704
        https://gitee.com/openeuler/kernel/pulls/5921  ext4: fix double-free of blocks due to wrong extents moved_len
        CVE-2024-26689
        https://gitee.com/openeuler/kernel/pulls/6029  ceph: prevent use-after-free in encode_cap_msg()
        CVE-2023-52464
        https://gitee.com/openeuler/kernel/pulls/5973  EDAC/thunderx: Fix possible out-of-bounds string access
        CVE-2023-52640
        https://gitee.com/openeuler/kernel/pulls/6052  fs/ntfs3: fix lbk-CVE-2023-52640
        CVE-2024-26706
        https://gitee.com/openeuler/kernel/pulls/6037  fix-CVE-2024-26706
        CVE-2024-26697
        https://gitee.com/openeuler/kernel/pulls/6040  nilfs2: fix data corruption in dsync block recovery for small block sizes
        CVE-2024-26656
        https://gitee.com/openeuler/kernel/pulls/6017  drm/amdgpu: fix use-after-free bug
        CVE-2024-26740
        https://gitee.com/openeuler/kernel/pulls/6020  net/sched: act_mirred: use the backlog for mirred ingress
        CVE-2024-26759
        https://gitee.com/openeuler/kernel/pulls/5995  mm/swap: fix race when skipping swapcache
        CVE-2024-26669
        https://gitee.com/openeuler/kernel/pulls/6006  fix CVE-2024-26669
        CVE-2024-26778
        https://gitee.com/openeuler/kernel/pulls/5969  fbdev: savage: Error out if pixclock equals zero
        CVE-2024-26763
        https://gitee.com/openeuler/kernel/pulls/5976  dm-crypt: don't modify the data when using authenticated encryption
        CVE-2024-26766
        https://gitee.com/openeuler/kernel/pulls/6018 v2  IB/hfi1: Fix sdma.h tx->num_descs off-by-one error
        CVE-2024-26720
        https://gitee.com/openeuler/kernel/pulls/5979  mm/writeback: fix possible divide-by-zero in wb_dirty_limits(), again
        CVE-2024-26751
        https://gitee.com/openeuler/kernel/pulls/5970  fixup CVE-2024-26751
        CVE-2024-26743
        https://gitee.com/openeuler/kernel/pulls/5950  RDMA/qedr: Fix qedr_create_user_qp error flow
        CVE-2024-26707
        https://gitee.com/openeuler/kernel/pulls/5998  net: hsr: remove WARN_ONCE() in send_hsr_supervision_frame()
        CVE-2024-26782
        https://gitee.com/openeuler/kernel/pulls/5996  mptcp: fix double-free on socket dismantle
        CVE-2024-26735
        https://gitee.com/openeuler/kernel/pulls/5993  ipv6: sr: fix possible use-after-free and null-ptr-deref
        CVE-2024-26684
        https://gitee.com/openeuler/kernel/pulls/5763  CVE-2024-26684 bugfix for OLK-5.10
        CVE-2024-26695
        https://gitee.com/openeuler/kernel/pulls/5901  CVE-2024-26695
        CVE-2024-26771
        https://gitee.com/openeuler/kernel/pulls/5853  dmaengine: ti: edma: Add some null pointer checks to the edma_probe
        CVE-2024-26744
        https://gitee.com/openeuler/kernel/pulls/5930  RDMA/srpt: Support specifying the srpt_service_guid parameter
        CVE-2024-26665
        https://gitee.com/openeuler/kernel/pulls/5758  tunnels: fix out of bounds access when building IPv6 PMTU error
        CVE-2024-26736
        https://gitee.com/openeuler/kernel/pulls/5812  afs: Increase buffer size in afs_update_volume_status()
        CVE-2024-26809
        https://gitee.com/openeuler/kernel/pulls/5852  CVE-2024-26809
        CVE-2021-46926
        https://gitee.com/openeuler/kernel/pulls/5943  CVE-2021-46926
        CVE-2024-26773
        https://gitee.com/openeuler/kernel/pulls/5781  ext4: avoid allocating blocks from corrupted group in ext4_mb_try_best_found()
        CVE-2024-26598
        https://gitee.com/openeuler/kernel/pulls/5884  KVM: arm64: vgic-its: Fix CVE-2024-26598 fix patch issue
        CVE-2024-26777
        https://gitee.com/openeuler/kernel/pulls/5831  fbdev: sis: Error out if pixclock equals zero
        CVE-2023-52479
        https://gitee.com/openeuler/kernel/pulls/5861  ksmbd: fix uaf in smb20_oplock_break_ack
        CVE-2023-52484
        https://gitee.com/openeuler/kernel/pulls/5911  CVE-2023-52484
        CVE-2024-26593
        https://gitee.com/openeuler/kernel/pulls/5895  i2c: i801: Fix block process call transactions
        CVE-2023-52469
        https://gitee.com/openeuler/kernel/pulls/5870  drivers/amd/pm: fix a use-after-free in kv_parse_power_table
        CVE-2024-26788
        https://gitee.com/openeuler/kernel/pulls/5863  CVE-2024-26788
        CVE-2021-47037
        https://gitee.com/openeuler/kernel/pulls/5811  Fixed CVE-2021-47037
        CVE-2024-26696
        https://gitee.com/openeuler/kernel/pulls/5808  nilfs2: fix hang in nilfs_lookup_dirty_data_buffers()
        CVE-2024-26608
        https://gitee.com/openeuler/kernel/pulls/5747  ksmbd: fix global oob in ksmbd_nl_policy
        CVE-2023-52467
        https://gitee.com/openeuler/kernel/pulls/5832  CVE-2023-52467
        CVE-2024-26668
        https://gitee.com/openeuler/kernel/pulls/5795  netfilter: nft_limit: reject configurations that cause integer overflow
        CVE-2024-26680
        https://gitee.com/openeuler/kernel/pulls/5751  net: atlantic: Fix DMA mapping for PTP hwts ring
        CVE-2024-26597
        https://gitee.com/openeuler/kernel/pulls/5785  net: qualcomm: rmnet: fix global oob in rmnet_policy
        CVE-2023-52476
        https://gitee.com/openeuler/kernel/pulls/5789  perf/x86/lbr: Filter vsyscall addresses
        CVE-2024-26589
        https://gitee.com/openeuler/kernel/pulls/5780  bpf: Reject variable offset alu on PTR_TO_FLOW_KEYS
        CVE-2023-52462
        https://gitee.com/openeuler/kernel/pulls/5787  bpf: fix check for attempt to corrupt spilled pointer
        CVE-2023-52633
        https://gitee.com/openeuler/kernel/pulls/5794  um: time-travel: fix time corruption
        CVE-2023-52617
        https://gitee.com/openeuler/kernel/pulls/5773  patches for CVE-2023-52617
        CVE-2023-52608
        https://gitee.com/openeuler/kernel/pulls/5772  firmware: arm_scmi: Check mailbox/SMT channel for consistency
        CVE-2023-52454
        https://gitee.com/openeuler/kernel/pulls/5788 v2  Patches to Fix CVE-2023-52454
        CVE-2024-26654
        https://gitee.com/openeuler/kernel/pulls/5724  ALSA: sh: aica: reorder cleanup operations to avoid UAF bugs
        CVE-2024-26679
        https://gitee.com/openeuler/kernel/pulls/5757  inet: read sk->sk_family once in inet_recv_error()
        CVE-2024-26651
        https://gitee.com/openeuler/kernel/pulls/5698  sr9800: Add check for usbnet_get_endpoints
        CVE-2021-47101
        https://gitee.com/openeuler/kernel/pulls/5728  fix CVE-2021-47101
        CVE-2024-26644
        https://gitee.com/openeuler/kernel/pulls/5642  btrfs: don't abort filesystem when attempting to snapshot deleted subvolume
        CVE-2024-26641
        https://gitee.com/openeuler/kernel/pulls/5530  net: Fix CVE-2024-26641
        CVE-2024-26633
        https://gitee.com/openeuler/kernel/pulls/5532  ip6_tunnel: fix NEXTHDR_FRAGMENT handling in ip6_tnl_parse_tlv_enc_lim()

        ebpf trampoline
        https://gitee.com/openeuler/kernel/pulls/6065 v4  arm64 bpf trampoline for olk-5.10
        
        hisilicon
        https://gitee.com/openeuler/kernel/pulls/6108 udma: optimize latency for non-share-jfr mode
        https://gitee.com/openeuler/kernel/pulls/6011 udma: fix a bug in udma dfx
        https://gitee.com/openeuler/kernel/pulls/5975 udma: fix a bug in QP creation
        https://gitee.com/openeuler/kernel/pulls/5845 [OLK 5.10] bugfixes of vf id of mailbox and port duplex configure
        https://gitee.com/openeuler/kernel/pulls/5770 v2  scsi: hisi_sas: Fixed some issues in the SAS
        https://gitee.com/openeuler/kernel/pulls/5738 [OLK 5.10] net: hns3: fix port vlan filter not disabled problem in dynamic vlan mode
        
        AMD
        https://gitee.com/openeuler/kernel/pulls/5486 [OLK-5.10] support the AMD Zen5 Turin

        BeiZhongWangXin
        https://gitee.com/openeuler/kernel/pulls/5612 【OLK-5.10】Add Chengdu BeiZhongWangXin Technology N5/N6 Series Network Card Driver
        
        社区问题修复以及上游社区bugfix补丁回合：
        https://gitee.com/openeuler/kernel/pulls/5745 v2  iommu/arm-smmu-v3: fix using uninitialized or unchecked symbol
        https://gitee.com/openeuler/kernel/pulls/5712 [sync] PR-5672:  arm64/mpam_ctrlmon: Update ctrl group config with rdtgrp's partid
        https://gitee.com/openeuler/kernel/pulls/5189 vhost_vdpa: Fix the error of not executing atomic_dec
        https://gitee.com/openeuler/kernel/pulls/5670  cpufreq: CPPC: Eliminate the impact of cpc_read() latency error
        https://gitee.com/openeuler/kernel/pulls/5506  ext4: dio: Put endio under irq context for overwrite
        https://gitee.com/openeuler/kernel/pulls/5507  ext4: Validate inode pa before using preallocation blocks

近两周(2024.4.4 ~ 4.19)内进展同步:
        总体上openEuler-1.0-LTS更新到tag 4.19.90-2404.2.0
        openEuler-20.03-LTS-SP1分支
        release ISO获取链接: https://repo.openeuler.org/openEuler-20.03-LTS-SP1/ISO/
                        对应update rpm包下载地址:
                        https://repo.openeuler.org/openEuler-20.03-LTS-SP1/update/
        openEuler-1.0-LTS从 4.19.90-2403.4.0 更新至 4.19.90-2404.2.0, 回合补丁数106个
        git log --no-merges 4.19.90-2403.4.0..4.19.90-2404.2.0 --oneline | wc -l
        106

        修复CVE 67个
        CVE-2023-52637
        CVE-2024-26739
        CVE-2024-26812
        CVE-2021-47201
        CVE-2021-47194
        CVE-2024-26687
        CVE-2024-26804
        CVE-2023-52639
        CVE-2024-27437
        CVE-2024-26686
        CVE-2024-26779
        CVE-2024-26704
        CVE-2024-26810
        CVE-2024-26754
        CVE-2024-26763
        CVE-2024-26697
        CVE-2024-26685
        CVE-2024-26726
        CVE-2024-26791
        CVE-2024-26759
        CVE-2024-26740
        CVE-2023-52635
        CVE-2024-26772
        CVE-2024-26735
        CVE-2024-26743
        CVE-2024-26778
        CVE-2024-26771
        CVE-2024-26744
        CVE-2024-26773
        CVE-2024-26777
        CVE-2024-26696
        CVE-2024-26751
        CVE-2021-47144
        CVE-2024-26668
        CVE-2023-52629
        CVE-2021-47150
        CVE-2024-26654
        CVE-2024-26644
        CVE-2021-47101
        CVE-2024-26633
        CVE-2024-26641
        CVE-2024-26651
        CVE-2021-47170
        CVE-2023-52587
        CVE-2021-47163
        CVE-2021-47167
        CVE-2021-47162
        CVE-2021-47091
        CVE-2021-47145
        CVE-2024-23307
        CVE-2023-52622
        CVE-2021-47131
        CVE-2021-47173
        CVE-2021-47159
        CVE-2021-47153
        CVE-2023-52601
        CVE-2021-47146
        CVE-2024-26645
        CVE-2021-47171
        CVE-2021-47160
        CVE-2021-47169
        CVE-2021-47142
        CVE-2021-47149
        CVE-2021-47180
        CVE-2021-47143
        CVE-2023-52620
        CVE-2024-26642

        社区问题修复以及上游社区bugfix补丁回合：
        https://gitee.com/openeuler/kernel/pulls/6231  v2  drm/vkms: call drm_atomic_helper_shutdown before drm_dev_put()
        https://gitee.com/openeuler/kernel/pulls/5874  scsi: hisi_sas: Update disk locked timeout to 7 seconds
        https://gitee.com/openeuler/kernel/pulls/5715  net: hns3: updates 2024.04.02
        https://gitee.com/openeuler/kernel/pulls/5702  ext4: Validate inode pa before using preallocation blocks
        https://gitee.com/openeuler/kernel/pulls/5672  arm64/mpam_ctrlmon: Update ctrl group config with rdtgrp's partid
        https://gitee.com/openeuler/kernel/pulls/5645  [sync] PR-5493:  arm64/mpam: Fix repeated enabling in mpam_enable()
        https://gitee.com/openeuler/kernel/pulls/5517  dm: revert partial fix for redundant bio-based IO accounting
        https://gitee.com/openeuler/kernel/pulls/5571  v2  mm/mlock: return EINVAL for illegal user memory range in mlock
        https://gitee.com/openeuler/kernel/pulls/5579  mm: ksm: fix use-after-free kasan report in ksm_might_need_to_copy
        https://gitee.com/openeuler/kernel/pulls/5290  crypto: algif_aead - Only wake up when ctx->more is zero
        https://gitee.com/openeuler/kernel/pulls/5446  keys: safe concurrent user->{session,uid}_keyring access
        https://gitee.com/openeuler/kernel/pulls/5550  pciehp: clear p_slot->work.data after powering off a slot

20240419：
OLK-6.6进展同步：

新分支已合入PR 26个，commit 212个
近两周(4.4-4.19)新合入特性PR：

虚拟化：
                ARM虚拟机对NMI中断的支持 Support NMI in the virtual machine https://gitee.com/openeuler/kernel/pulls/5815

性能提升专项：
                mm: batch mm counter updating in filemap_map_pages() https://gitee.com/openeuler/kernel/pulls/6068
                xarray: inline xas_descend to improve performance https://gitee.com/openeuler/kernel/pulls/6230
                Backport maple_tree: iterator state changes https://gitee.com/openeuler/kernel/pulls/5744
                Make Cluster Scheduling Configurable https://gitee.com/openeuler/kernel/pulls/5854
                locking/osq_lock: Avoid false sharing in optimistic_spin_node https://gitee.com/openeuler/kernel/pulls/6008
                optimize eevdf scheduler https://gitee.com/openeuler/kernel/pulls/5877
                mm: some optimization about hugetlb and thp https://gitee.com/openeuler/kernel/pulls/6201

处理器及板卡支持专项：
                华为：
                RDMA/hns: support roh https://gitee.com/openeuler/kernel/pulls/6069
                RDMA/hns: Support hns roce DCA mode https://gitee.com/openeuler/kernel/pulls/5971
                云芯智联网卡：
                improve 3SNIC 910/920/930 NIC driver https://gitee.com/openeuler/kernel/pulls/6048
                成都北中网芯：
                Add Chengdu BeiZhongWangXin Technology N5/N6 Series Network Card Driver https://gitee.com/openeuler/kernel/pulls/5752

内核编译专项：
                 新一轮config调整中，查漏补缺，已合入PR:
                arm64: enable CONFIG_ARM64_MPAM in openeuler_defconfig https://gitee.com/openeuler/kernel/pulls/6244
                OLK-tdx-guest-configs-6.6 https://gitee.com/openeuler/kernel/pulls/5813

bugfix：
                fix some issues for arm64 machine check safe https://gitee.com/openeuler/kernel/pulls/6105
                KVM: arm64: vgic-its: use vgic_get_irq_kref() before vgic_put_irq() https://gitee.com/openeuler/kernel/pulls/5869

KABI专项： closed
继承特性回合事项： closed

        最新tag 6.6.0-20.0.0
        openEuler-24.03-LTS ISO镜像下载链接：http://121.36.84.172/dailybuild/EBS-openEuler-24.03-LTS/

议题二：内核安全编程规范（倪琛）
内核函数的不安全使用经常会给内核带来潜在威胁，基于对内核api使用模式的统计汇总编写了内核安全编程规范，该规范汇总了近100个常用内核api的不规范使用方式，并给出了git commit实例，帮助提高新人内核代码质量，  安全编程规范已提交pr（https://gitee.com/openeuler/kernel-docs/pulls/20）。

议题三：openEuler-22.03-LTS-SP4需求评审（张伽琳）

调度：
https://gitee.com/openeuler/kernel/issues/I9GZAQ        [openEuler-22.03-LTS-SP4] 鲲鹏920支持自适应NUMA需求 结论：通过

安全：
https://gitee.com/openeuler/kernel/issues/I8TANP        OLK5.10支持地址随机化区域指定 结论：通过
https://gitee.com/openeuler/kernel/issues/I9GXST        【OLK-5.10】openeuler_defconfig开启CONFIG_BPF_LSM 结论：通过

内存：
https://gitee.com/openeuler/kernel/issues/I99G3O        【openEuler-22.03-LTS-SP4】【性能】L0内存管理 结论：通过
https://gitee.com/openeuler/kernel/issues/I9GSSR        [openEuler-22.03-LTS-SP4] alloc_page内存申请维测增强 结论：通过
https://gitee.com/openeuler/kernel/issues/I9GT87        [openEuler-22.03-LTS-SP4] 用户态容器内存支持主动回收、压缩、去重 结论：通过
https://gitee.com/openeuler/kernel/issues/I9GVYW        【openEuler-22.03-LTS-SP4】Add hugetlb MADV_DONTNEED support 结论：通过

x86:
https://gitee.com/openeuler/kernel/issues/I92HAJ        【OLK-5.10】Support Hygon QoS feature 结论：通过
https://gitee.com/openeuler/kernel/issues/I92NKS        【OLK-5.10】Some fixes for Hygon model 4h~6h processors 结论：通过
https://gitee.com/openeuler/kernel/issues/I92NM4        【OLK-5.10】Support Hygon family 18h model 6h L3 PMU 结论：通过
https://gitee.com/openeuler/kernel/issues/I92NMX        【OLK-5.10】Support Hygon family 18h model 5h HD-Audio 结论：通过

虚拟化：
https://gitee.com/openeuler/kernel/issues/I9BPVF        【OLK-5.10】Backporting Dirty ring feature 结论：不影响其他公共模块的情况下，以Virt sig意见为准
https://gitee.com/openeuler/kernel/issues/I9CC0X        【OLK-5.10】add support for arm virtcca vm 结论：不影响其他公共模块的情况下，以Virt sig意见为准
https://gitee.com/openeuler/intel-kernel/issues/I9HH9U    [openEuler-22.03-LTS-SP4] KVM TDP MMU new refactors 结论：代码改动较大，尽快提交PR，找相关领域committer review

驱动:
https://gitee.com/openeuler/kernel/issues/I8TFYM        Yunsilicon XSC RDMA驱动添加自动加载的udev规则
https://gitee.com/openeuler/kernel/issues/I9175D        [OLK-5.10] Driver for Zhaoxin AES and SHA algorithm
https://gitee.com/openeuler/kernel/issues/I977K1        [OLK-5.10]沐创千兆兆网卡驱动适配
https://gitee.com/openeuler/kernel/issues/I9ATOW        [OLK-5.10]沐创万兆网卡vf驱动适配
https://gitee.com/openeuler/kernel/issues/I9ATXX        [OLK-5.10]沐创千兆网卡vf驱动适配
https://gitee.com/openeuler/kernel/issues/I9BXF1        [OLK-5.10] Mont-TSSE驱动适配
https://gitee.com/openeuler/kernel/issues/I9F23X        SPxxx系列RAID卡驱动新增SG_RAW命令返回值
https://gitee.com/openeuler/kernel/issues/I9GYGB        【OLK-5.10】openeuler_defconfig中关闭CONFIG_YUSUR_K2
https://gitee.com/openeuler/kernel/issues/I9H643        【OLK-5.10】增加华为智能网卡RDMA驱动
结论：驱动为新增模块，对核心模块影响较小，通过


三、本期遗留问题

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
【2024/4/3 Kernel SIG 双周例会】
轮值主持：桑力鹏 【轮值主持顺序：曾昭荣->郑增凯->桑力鹏->张伽琳->廖涛】
下次轮值主持：张伽琳
会议链接：https://meeting.huaweicloud.com:36443/#/j/985365971
会议纪要：https://etherpad.openeuler.org/p/Kernel-meetings

一、上期遗留问题跟踪

二、议题列表

议题一： 进展update（张伽琳 & 章昌仲&郑增凯）
近两周(2024.3.25 ~ 4.3)内进展同步:
        总体上OLK-5.10主干更新到tag 5.10.0-194.0.0
        openEuler-22.03-LTS-SP3分支，更新到tag 5.10.0-194.0.0
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP3/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP3/update/
        openEuler-22.03-LTS-SP2分支，更新到tag 5.10.0-153.49.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP2/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP2/update/
        openEuler-22.03-LTS-SP1分支，更新到tag 5.10.0-136.70.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS-SP1/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS-SP1/update/
        openEuler-22.03-LTS维护分支更新到tag 5.10.0-60.132.0，
        release ISO获取链接: https://repo.openeuler.org/openEuler-22.03-LTS/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-22.03-LTS/update/
        以OLK-5.10为例:
        从 5.10.0-192.0.0 更新至 5.10.0-194.0.0, 回合补丁数326个
        git log 5.10.0-192.0.0..5.10.0-194.0.0 --oneline | wc -l
        326

        同步linux 5.10.y社区LTS补丁集2个: 5.10.199 - 5.10.200
        https://gitee.com/openeuler/kernel/pulls/5684 Backport 5.10.200 LTS patches from upstream
        https://gitee.com/openeuler/kernel/pulls/5499 Backport 5.10.199 LTS patches from upstream

        修复CVE 34个
        CVE-2023-52622
        https://gitee.com/openeuler/kernel/pulls/5580  CVE-2023-52622
        CVE-2024-26645
        https://gitee.com/openeuler/kernel/pulls/5566  tracing: Ensure visibility when inserting an element into tracing_map
        CVE-2023-52601
        https://gitee.com/openeuler/kernel/pulls/5473  jfs: fix array-index-out-of-bounds in dbAdjTree
        CVE-2023-52618
        https://gitee.com/openeuler/kernel/pulls/5431  block/rnbd-srv: Check for unlikely string overflow
        CVE-2024-26642
        https://gitee.com/openeuler/kernel/pulls/5537  netfilter: nf_tables: disallow anonymous set with timeout flag
        CVE-2024-26643
        https://gitee.com/openeuler/kernel/pulls/5527  netfilter: nf_tables: mark set as dead when unbinding anonymous set with timeout
        CVE-2024-23307
        https://gitee.com/openeuler/kernel/pulls/5521  md/raid5: fix atomicity violation in raid5_cache_count
        CVE-2023-52489
        https://gitee.com/openeuler/kernel/pulls/5494  mm/sparsemem: fix race in accessing memory_section->usage
        CVE-2023-52620
        https://gitee.com/openeuler/kernel/pulls/5516  netfilter: nf_tables: disallow timeout for anonymous sets
        CVE-2023-52610
        https://gitee.com/openeuler/kernel/pulls/5441  net/sched: act_ct: fix skb leak and crash on ooo frags
        CVE-2024-24855
        https://gitee.com/openeuler/kernel/pulls/5519  scsi: lpfc: Fix a possible data race in lpfc_unregister_fcf_rescan()
        CVE-2021-47094
        https://gitee.com/openeuler/kernel/pulls/5445  KVM: x86/mmu: Don't advance iterator after restart due to yielding
        CVE-2023-52493
        https://gitee.com/openeuler/kernel/pulls/5510  bus: mhi: host: Drop chan lock before queuing buffers
        CVE-2023-52594
        https://gitee.com/openeuler/kernel/pulls/5466  wifi: ath9k: Fix potential array-index-out-of-bounds read in ath9k_htc_txstatus()
        CVE-2024-26640
        https://gitee.com/openeuler/kernel/pulls/5491  CVE-2024-26640
        CVE-2024-26635
        https://gitee.com/openeuler/kernel/pulls/5495  llc: Drop support for ETH_P_TR_802_2.
        CVE-2024-26636
        https://gitee.com/openeuler/kernel/pulls/5496  llc: make llc_ui_sendmsg() more robust against bonding changes
        CVE-2024-26625
        https://gitee.com/openeuler/kernel/pulls/5266  llc: call sock_orphan() at release time
        CVE-2023-52619
        https://gitee.com/openeuler/kernel/pulls/5500  pstore/ram: Fix crash when setting number of cpus to an odd number
        CVE-2023-52616
        https://gitee.com/openeuler/kernel/pulls/5460 v2  crypto: lib/mpi - Fix unexpected pointer access in mpi_ec_init
        CVE-2023-52445
        https://gitee.com/openeuler/kernel/pulls/5368  media: pvrusb2: fix use after free on context disconnection
        CVE-2023-52514
        https://gitee.com/openeuler/kernel/pulls/5075  x86/reboot: VMCLEAR active VMCSes before emergency reboot
        CVE-2023-52530
        https://gitee.com/openeuler/kernel/pulls/5093  wifi: mac80211: fix potential key use-after-free
        CVE-2023-52603
        https://gitee.com/openeuler/kernel/pulls/5327  UBSAN: array-index-out-of-bounds in dtSplitRoot
        CVE-2023-52602
        https://gitee.com/openeuler/kernel/pulls/5322  jfs: fix slab-out-of-bounds Read in dtSearch
        CVE-2023-52604
        https://gitee.com/openeuler/kernel/pulls/5308  FS:JFS:UBSAN:array-index-out-of-bounds in dbAdjTree
        CVE-2023-52488
        https://gitee.com/openeuler/kernel/pulls/5286  serial: sc16is7xx: convert from _raw_ to _noinc_ regmap functions for FIFO
        CVE-2023-52600 CVE-2023-52599
        https://gitee.com/openeuler/kernel/pulls/5232  jfs: fix cve issue
        CVE-2023-52598
        https://gitee.com/openeuler/kernel/pulls/5348  s390/ptrace: handle setting of fpc register correctly
        CVE-2023-52597
        https://gitee.com/openeuler/kernel/pulls/5317  KVM: s390: fix setting of fpc register
        CVE-2024-26627​
        https://gitee.com/openeuler/kernel/pulls/5259  CVE-2024-26627​ 
        CVE-2023-52609
        https://gitee.com/openeuler/kernel/pulls/5339  binder: fix race between mmput() and do_exit()
        CVE-2024-26622
        https://gitee.com/openeuler/kernel/pulls/5253  tomoyo: fix UAF write bug in tomoyo_write_control()

        社区问题修复以及上游社区bugfix补丁回合：
        https://gitee.com/openeuler/kernel/pulls/5617 v4  Fix I/O high when memory almost met memcg limit
        https://gitee.com/openeuler/kernel/pulls/5518  dm: revert partial fix for redundant bio-based IO accounting
        https://gitee.com/openeuler/kernel/pulls/5493  arm64/mpam: Fix repeated enabling in mpam_enable()
        https://gitee.com/openeuler/kernel/pulls/5606  mm/mlock: return EINVAL for illegal user memory range in mlock
        https://gitee.com/openeuler/kernel/pulls/5553  mm: ksm: fix use-after-free kasan report in ksm_might_need_to_copy
        https://gitee.com/openeuler/kernel/pulls/5269  printk: avoid deadlock in panic
        https://gitee.com/openeuler/kernel/pulls/5316 v2  iomap: add support to track dirty state of sub pages
        https://gitee.com/openeuler/kernel/pulls/5385 v3  enable arm64_pbha by default

2024.3.22 ~ 4.3进展同步:
        总体上openEuler-1.0-LTS更新到tag 4.19.90-2403.4.0
        openEuler-20.03-LTS-SP1分支
        release ISO获取链接: https://repo.openeuler.org/openEuler-20.03-LTS-SP1/ISO/
                对应update rpm包下载地址:
                https://repo.openeuler.org/openEuler-20.03-LTS-SP1/update/
        openEuler-1.0-LTS从 4.19.90-2403.3.0 更新至 4.19.90-2403.4.0, 回合补丁数39个
        git log --no-merges 4.19.90-2403.3.0..4.19.90-2403.4.0 --oneline | wc -l
        39
        
        修复CVE 24个
        CVE-2021-47161
        https://gitee.com/openeuler/kernel/pulls/5539  spi: spi-fsl-dspi: Fix a resource leak in an error handling path
        CVE-2024-24855
        https://gitee.com/openeuler/kernel/pulls/5520  scsi: lpfc: Fix a possible data race in lpfc_unregister_fcf_rescan()
        CVE-2021-47110
        https://gitee.com/openeuler/kernel/pulls/5514  CVE-2021-47110
        CVE-2024-26635
        https://gitee.com/openeuler/kernel/pulls/5497  llc: Drop support for ETH_P_TR_802_2.
        CVE-2024-26636
        https://gitee.com/openeuler/kernel/pulls/5498  llc: make llc_ui_sendmsg() more robust against bonding changes
        CVE-2024-26640
        https://gitee.com/openeuler/kernel/pulls/5490  tcp: add sanity checks to rx zerocopy
        CVE-2023-52619
        https://gitee.com/openeuler/kernel/pulls/5502  pstore/ram: Fix crash when setting number of cpus to an odd number
        CVE-2021-47112
        https://gitee.com/openeuler/kernel/pulls/5477  Fixed CVE-2021-47112
        CVE-2023-52600
        https://gitee.com/openeuler/kernel/pulls/5479  jfs: fix cve-2023-52600
        CVE-2023-52599
        https://gitee.com/openeuler/kernel/pulls/5478  jfs: fix array-index-out-of-bounds in diNewExt
        CVE-2023-52594
        https://gitee.com/openeuler/kernel/pulls/5465  wifi: ath9k: Fix potential array-index-out-of-bounds read in ath9k_htc_txstatus()
        CVE-2021-47113
        https://gitee.com/openeuler/kernel/pulls/5361  btrfs: abort in rename_exchange if we fail to insert the second ref
        CVE-2024-26622
        https://gitee.com/openeuler/kernel/pulls/5254  tomoyo: fix UAF write bug in tomoyo_write_control()
        CVE-2023-52603
        https://gitee.com/openeuler/kernel/pulls/5321  UBSAN: array-index-out-of-bounds in dtSplitRoot
        CVE-2021-47114
        https://gitee.com/openeuler/kernel/pulls/5455  CVE-2021-47114
        CVE-2023-52602
        https://gitee.com/openeuler/kernel/pulls/5320  jfs: fix slab-out-of-bounds Read in dtSearch
        CVE-2023-52615
        https://gitee.com/openeuler/kernel/pulls/5374  hwrng: core - Fix page fault dead lock on mmap-ed hwrng
        CVE-2023-52597
        https://gitee.com/openeuler/kernel/pulls/5418  [sync] PR-5317:  KVM: s390: fix setting of fpc register
        CVE-2024-26615
        https://gitee.com/openeuler/kernel/pulls/5272  net/smc: fix illegal rmb_desc access in SMC-D connection dump
        CVE-2021-47086
        https://gitee.com/openeuler/kernel/pulls/5274  phonet/pep: refuse to enable an unbound pipe
        CVE-2021-47122
        https://gitee.com/openeuler/kernel/pulls/5359  CVE-2021-47121 and CVE-2021-47122
        CVE-2021-47121
        https://gitee.com/openeuler/kernel/pulls/5359  CVE-2021-47121 and CVE-2021-47122
        CVE-2023-52595
        https://gitee.com/openeuler/kernel/pulls/5358  v5  CVE-2023-52595
        CVE-2023-52609
        https://gitee.com/openeuler/kernel/pulls/5336  binder: fix race between mmput() and do_exit()
        
        社区问题修复以及上游社区bugfix补丁回合：
        https://gitee.com/openeuler/kernel/pulls/5542  round lts patches
        https://gitee.com/openeuler/kernel/pulls/5485  nfsd: fix use-after-free due to delegation race
        https://gitee.com/openeuler/kernel/pulls/5281  printk: avoid deadlock in panic
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++